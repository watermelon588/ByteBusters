<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Period Tracker</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #ff4da6;
      --secondary: #ff80bf;
      --fertile: #4db8ff;
      --bg: #fff0f7;
      --card-bg: #ffffff;
      --text-dark: #333;
      --text-light: #777;
      --radius: 16px;
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--text-dark);
    }

    header {
      text-align: center;
      padding: 1.2rem;
      background: var(--primary);
      color: white;
      font-size: 1.3rem;
      font-weight: bold;
      border-bottom-left-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
    }

    .container {
      padding: 1rem;
      margin-bottom: 90px; /* space for footer */
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius);
      padding: 1.2rem;
      margin-bottom: 1.2rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    /* Calendar Styling */
    .calendar h3 {
      margin-bottom: 15px;
      font-size: 1.1rem;
      color: var(--text-dark);
      text-align: center;
    }

    .days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 6px;
      text-align: center;
    }

    .day {
      padding: 10px;
      border-radius: 8px;
      background: #f8f8f8;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .day:hover { background: #eee; }

    .day.today {
      border: 2px solid var(--primary);
      font-weight: bold;
      background: #ffe6f2;
    }

    .day.period {
      background: var(--secondary);
      color: white;
    }

    .day.fertile {
      background: var(--fertile);
      color: white;
    }

    /* Stats */
    .stats h3 {
      text-align: center;
      margin-bottom: 15px;
    }

    .progress-container {
      width: 180px;
      margin: auto;
    }

    .chart-subtitle {
      text-align: center;
      font-size: 0.9rem;
      color: var(--text-light);
      margin-top: 8px;
    }

    /* Profile */
    .profile p {
      margin: 6px 0;
      font-size: 0.95rem;
      color: var(--text-dark);
    }
    .profile b { color: var(--primary); }

    .insights h3 {
      text-align: center;
      margin-bottom: 10px;
    }

    canvas {
      margin-top: 15px;
      width: 100% !important;
      height: auto !important;
    }

    /* Footer Navigation */
    footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #fff;
      display: flex;
      justify-content: space-around;
      padding: 0.7rem 0;
      box-shadow: 0 -2px 6px rgba(0,0,0,0.1);
    }

    footer button {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      color: var(--text-light);
      transition: color 0.2s;
    }

    footer button:hover { color: var(--primary); }

    /* Responsive */
    @media (max-width: 600px) {
      header { font-size: 1.1rem; }
      .progress-container { width: 140px; }
      .day { font-size: 0.75rem; padding: 8px; }
    }
  </style>
</head>
<body>
  <header>
    Period Tracker
  </header>

  <div class="container">
    <!-- Calendar -->
    <div class="card calendar">
      <h3>October 2025</h3>
      <div class="days" id="days"></div>
    </div>

    <!-- Statistics -->
    <div class="card stats">
      <h3>Cycle Statistics</h3>
      <div class="progress-container">
        <canvas id="progressChart"></canvas>
      </div>
      <p style="text-align:center; margin-top:10px;" id="dayInfo">Day 0 of your cycle</p>
      <p class="chart-subtitle">Shows your progress in the current cycle.</p>
    </div>

    <!-- Insights -->
    <div class="card insights">
      <h3>Your Insights</h3>
      <canvas id="moodChart"></canvas>
      <p class="chart-subtitle">Mood trends tracked daily (scale 1‚Äì5).</p>
      <canvas id="symptomChart"></canvas>
      <p class="chart-subtitle">Cramps severity levels recorded over the week.</p>
    </div>

    <!-- Profile -->
    <div class="card profile">
      <h3>Profile</h3>
      <p><b>Name:</b> Jane Doe</p>
      <p><b>Email:</b> jane@example.com</p>
      <p><b>Cycle Length:</b> 28 days</p>
      <p><b>Period Length:</b> 5 days</p>
    </div>
  </div>

  <!-- Bottom Navigation -->
  <footer>
    <button>üè†</button>
    <button>üíß</button>
    <button>üìÖ</button>
    <button>üë§</button>
  </footer>

  <script>
    const daysContainer = document.getElementById("days");
    const dayInfo = document.getElementById("dayInfo");

    const cycleLength = 28;
    const periodLength = 5;
    const today = 12; // assume today is day 12
    const fertileStart = 10, fertileEnd = 16;

    // Render calendar (1‚Äì31)
    for (let i = 1; i <= 31; i++) {
      const div = document.createElement("div");
      div.classList.add("day");
      div.innerText = i;

      if (i === today) div.classList.add("today");
      if (i >= 1 && i <= periodLength) div.classList.add("period");
      if (i >= fertileStart && i <= fertileEnd) div.classList.add("fertile");

      daysContainer.appendChild(div);
    }

    // Update statistics
    let cycleProgress = Math.round((today / cycleLength) * 100);
    dayInfo.innerText = `Day ${today} of your cycle`;

    // Progress chart (Circular)
    const ctxProgress = document.getElementById('progressChart');
    new Chart(ctxProgress, {
      type: 'doughnut',
      data: {
        datasets: [{
          data: [cycleProgress, 100 - cycleProgress],
          backgroundColor: ['#ff4da6','#eee'],
          borderWidth: 0
        }]
      },
      options: {
        cutout: '70%',
        plugins: {
          legend: { display: false },
          tooltip: { enabled: false }
        }
      },
      plugins: [{
        id: 'centerText',
        beforeDraw: (chart) => {
          const { ctx, chartArea: { width, height } } = chart;
          ctx.save();
          ctx.font = "bold 18px Inter";
          ctx.fillStyle = "#333";
          ctx.textAlign = "center";
          ctx.textBaseline = "middle";
          ctx.fillText(cycleProgress + "%", width/2, height/2);
        }
      }]
    });

    // Mood Chart (bar chart)
    const ctx1 = document.getElementById('moodChart');
    new Chart(ctx1, {
      type: 'bar',
      data: {
        labels: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
        datasets: [{
          label: 'Mood Score',
          data: [3,4,2,5,4,3,2],
          backgroundColor: '#ff80bf'
        }]
      },
      options: {
        plugins: { legend: { display: false } },
        scales: { y: { beginAtZero: true, max: 5 } }
      }
    });

    // Symptom Chart (line chart)
    const ctx2 = document.getElementById('symptomChart');
    new Chart(ctx2, {
      type: 'line',
      data: {
        labels: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
        datasets: [{
          label: 'Cramps Severity',
          data: [2,3,4,3,2,1,0],
          borderColor: '#8000ff',
          backgroundColor: '#d9b3ff',
          fill: true,
          tension: 0.4
        }]
      },
      options: {
        plugins: { legend: { display: false } },
        scales: { y: { beginAtZero: true, max: 5 } }
      }
    });
  </script>
</body>
</html>
